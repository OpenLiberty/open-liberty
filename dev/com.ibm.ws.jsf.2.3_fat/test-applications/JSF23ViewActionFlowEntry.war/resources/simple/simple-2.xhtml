<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
    Copyright (c) 2017, 2018 IBM Corporation and others.
    All rights reserved. This program and the accompanying materials
    are made available under the terms of the Eclipse Public License v1.0
    which accompanies this distribution, and is available at
    http://www.eclipse.org/legal/epl-v10.html
   
    Contributors:
        IBM Corporation - initial API and implementation
 -->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
        
    <!-- This is a simple JSF facelet; it utilizes EL to check if we're currently in a flow.
          If we are in a flow, the currentFlow value should be true.
          The flowScope value is checked to determine if that data is being passed around the flow correctly;
          the flowScope value can be modified via the text input on this page and the "Submit Value" button.
          The back button causes us to exit the flow.
          This test was originally added in the com.ibm.ws.jsf.2.2_fat bucket.  It's been added in the JSF 2.3 bucket to test the 
          entry into the flow with the f:viewAction component.
    -->
    <h:head>
        <title>JSF 2.3 (No CDI) ViewAction Faces Flows Test Page</title>
    </h:head>
    <h:body>
        'Simple' flow page 2
        In flow ? #{null != facesContext.application.flowHandler.currentFlow}<br/>
        Flow Id: #{empty facesContext.application.flowHandler.currentFlow.id ? "no flow ID" : facesContext.application.flowHandler.currentFlow.id}<br/>
        Current flowscope value: #{empty flowScope.testValue ? "no flowscope value" : flowScope.testValue}<br/>
        <h:form prependId="false" id="form">
            <h:commandButton id="button1" value="Back (still in flow)" action="simple"/>
            <h:commandButton id="button2" value="Next (exit flow)" action="goReturn"/>
        </h:form>
    </h:body>
</html>
