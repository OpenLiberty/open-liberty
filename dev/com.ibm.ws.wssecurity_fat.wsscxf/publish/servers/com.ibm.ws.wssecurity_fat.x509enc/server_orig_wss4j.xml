<server>
	<featureManager>
		<feature>ssl-1.0</feature>
		<feature>usr:wsseccbh-1.0</feature>
		<feature>servlet-3.0</feature>
		<feature>appSecurity-2.0</feature>
		<feature>jsp-2.2</feature>
		<feature>jaxws-2.2</feature>
		<feature>wsSecurity-1.1</feature>
	</featureManager>

	<include location="../fatTestPorts.xml" />

	<!-- user1pw, its password is different from CallbackHandler -->
	<basicRegistry
		id="basic"
		realm="customRealm"
	>
		<user
			name="user1"
			password="security" />
		<user
			name="user2"
			password="security" />
		<user
			name="test1"
			password="test1" />
		<user
			name="test2"
			password="test2" />
		<user
			name="user1pw"
			password="pw8server" />
	</basicRegistry>

	<wsSecurityProvider
		id="default"
		ws-security.callback-handler="com.ibm.ws.wssecurity.example.cbhwss4j.CommonPasswordCallbackWss4j"
		ws-security.signature.username="bob"
		ws-security.return.security.error="true"
	>
	<!-- 3/2021 added ws-security.return.security.error -->
	<!-- 2/2021 EE8 Callbackhandler -->
	
		<signatureProperties
			org.apache.ws.security.crypto.merlin.keystore.type="jceks"
			org.apache.ws.security.crypto.merlin.keystore.password="storepass"
			org.apache.ws.security.crypto.merlin.keystore.alias="bob"
			org.apache.ws.security.crypto.merlin.file="${server.config.dir}/enc-receiver.jceks" />
		<encryptionProperties
			org.apache.ws.security.crypto.merlin.keystore.type="jceks"
			org.apache.ws.security.crypto.merlin.keystore.password="storepass"
			org.apache.ws.security.crypto.merlin.keystore.alias="alice"
			org.apache.ws.security.crypto.merlin.file="${server.config.dir}/enc-receiver.jceks" />
	</wsSecurityProvider>

	<wsSecurityClient
		id="default"
		ws-security.password="security"
		ws-security.username="user1"
		ws-security.callback-handler="com.ibm.ws.wssecurity.example.cbhwss4j.CommonPasswordCallbackWss4j"
		ws-security.signature.username="alice"
	>
	<!-- 2/2021 EE8 Callbackhandler -->
	
		<signatureProperties
			org.apache.ws.security.crypto.merlin.keystore.type="jceks"
			org.apache.ws.security.crypto.merlin.keystore.password="storepass"
			org.apache.ws.security.crypto.merlin.keystore.alias="alice"
			org.apache.ws.security.crypto.merlin.file="${server.config.dir}/enc-sender.jceks" />
		<encryptionProperties
			org.apache.ws.security.crypto.merlin.keystore.type="jceks"
			org.apache.ws.security.crypto.merlin.keystore.password="storepass"
			org.apache.ws.security.crypto.merlin.keystore.alias="bob"
			org.apache.ws.security.crypto.merlin.file="${server.config.dir}/enc-sender.jceks" />

	</wsSecurityClient>

</server>
