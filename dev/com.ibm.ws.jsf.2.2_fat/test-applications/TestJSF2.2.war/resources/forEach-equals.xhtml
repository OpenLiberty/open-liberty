<?xml version="1.0" encoding="UTF-8"?>
<!--
 * Copyright (c) 2015, 2019 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *     IBM Corporation - initial API and implementation
 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<f:view xmlns="http://www.w3.org/1999/xhtml"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    contentType="text/html"
    encoding="UTF-8">
    <body>
        <h2>ForEach equals and non serializable behavior</h2>
	    <h:form id="testCForEachForm" prependId="false">
	    	<h:inputText value="#{forEachTest.counter}" />
	    	<h:commandButton id="changeItemsButton" value="Change Items" action="#{forEachTest.changeItems}" /> 
	    	<br/>
	    	<br/>
	    	Overriden equals c:forEach:
	    	<c:forEach items="#{forEachTest.list}" var="item">
				<h:outputText value="#{item.id} " escape="false"/>
			</c:forEach>
			<c:forEach items="#{forEachTest.list}" var="item">
				<h:outputText value="#{item.value} " escape="false"/>
			</c:forEach>
	    	<br/>
	    	Overriden equals ui:repeat:
	    	<ui:repeat value="#{forEachTest.list}" var="item">
				<h:outputText value="#{item.id} " escape="false"/>
			</ui:repeat>
			<ui:repeat value="#{forEachTest.list}" var="item">
				<h:outputText value="#{item.value} " escape="false"/>
			</ui:repeat>
			<br/>
			<br/>
			Serializable Object c:forEach: 
			<c:forEach items="#{forEachTest.listSerializable}" var="item">
				<h:outputText value="#{item.id} " escape="false"/>
			</c:forEach>
			<c:forEach items="#{forEachTest.listSerializable}" var="item">
				<h:outputText value="#{item.value} " escape="false"/>
			</c:forEach>
			<br/>
			Serializable Object ui:repeat:
			<ui:repeat value="#{forEachTest.listSerializable}" var="item">
				<h:outputText value="#{item.id} " escape="false"/>
			</ui:repeat>
			<ui:repeat value="#{forEachTest.listSerializable}" var="item">
				<h:outputText value="#{item.value} " escape="false"/>
			</ui:repeat>
			<br/>
			<br/>
			Non-Serializable Object c:forEach:
			<c:forEach items="#{forEachTest.listNotSerializable}" var="item">
				<h:outputText value="#{item.id} " escape="false"/>
			</c:forEach>
			<c:forEach items="#{forEachTest.listNotSerializable}" var="item">
				<h:outputText value="#{item.value} " escape="false"/>
			</c:forEach>
			<br/>
			Non-Serializable Object ui:repeat:
			<ui:repeat value="#{forEachTest.listNotSerializable}" var="item">
				<h:outputText value="#{item.id} " escape="false"/>
			</ui:repeat>
			<ui:repeat value="#{forEachTest.listNotSerializable}" var="item">
				<h:outputText value="#{item.value} " escape="false"/>
			</ui:repeat>
			<br/>
	    </h:form>
   </body>
</f:view>