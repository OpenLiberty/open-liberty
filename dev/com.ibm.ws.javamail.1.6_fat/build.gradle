/*******************************************************************************
 * Copyright (c) 2017 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *     IBM Corporation - initial API and implementation
 *******************************************************************************/

/* Define greenmail dependencies */
dependencies {
  requiredLibs 'com.icegreen:greenmail:1.5.10',
               'org.slf4j:slf4j-api:1.7.7',
               'org.slf4j:slf4j-jdk14:1.7.7',
               'com.sun.mail:javax.mail:1.6.2',
               // Deps needed for when running on Java 9 (EE-type APIs were removed from JDK)
               'com.ibm.ws.org.apache.yoko:yoko-spec-corba:1.5.+',
               'javax.activation:activation:1.1',
               'javax.xml.bind:jaxb-api:2.2.+',
               'com.sun.xml.bind:jaxb-core:2.2.+',
               'com.sun.xml.bind:jaxb-impl:2.2.+'
}



task addRestConnector(type: Copy) {
  shouldRunAfter jar
  from buildImage.file('wlp/clients/restConnector.jar')
  into new File(autoFvtDir, 'lib')
}

addRequiredLibraries {
  dependsOn addRestConnector
}